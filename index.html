<!DOCTYPE html>
<html lang="de">

<head>
  <meta charset="UTF-8" />
  <title>Stifty – der Blockly-Maler</title>
  <link rel="stylesheet" href="style.css">
  <!-- Blockly 11.2.2 -->
  <script src="./scripts/org/blockly_compressed.js"></script>
  <script src="./scripts/org/javascript_compressed.js"></script>
  <script src="./scripts/org/blocks_compressed.js"></script>
  <script src="./scripts/org/de.js"></script>
  <script src="./scripts/angleHelper.js"></script>
  <script src="./scripts/angleDropdown.js"></script>
  <script src="./scripts/org/field_colour.js"></script>
  <script src="./data/config_stift.js"></script>
  <script src="./data/config_hintergrund.js"></script>
  <script src="./data/config_programm.js"></script>
  <script src="./scripts/blocks.js"></script>
  <script src="./scripts/generator.js"></script>
  <script src="./scripts/turtle.js"></script>
  <script src="./scripts/main.js"></script>
</head>

<body>
  <h1>Stifty – der Blockly-Maler</h1>

  <div id="mainLayout">

    <div id="blocklyDiv"></div>

    <div id="controls">
      <div class="slider-col">
        <span class="speed-icon">🐎</span>
        <input type="range" id="timeoutSlider" min="5" max="100" step="5" value="50" orient="vertical" title="Geschwindigkeit einstellen: oben = schneller, unten = langsamer"/>
        <span class="speed-icon">🐢</span>
      </div>
      <button onclick="startRun()" title="Start">▶️</button>
      <button onclick="stoppAll()" title="Stopp/Abbruch">⏹️</button>
      <button onclick="startStep()" title="Einzelschritt">⏯️</button>
      <button onclick="reloadAll()" title="Neustart">🔁</button>
    </div>

    <!-- Canvas rechts -->
    <div id="canvasContainer">
      <canvas id="bgCanvas" width="500" height="600"></canvas>
      <canvas id="lineCanvas" width="500" height="600"></canvas>
      <canvas id="stiftCanvas" width="500" height="600"></canvas>
    </div>
  </div>


<div id="bottomControls">
	   <button onclick="loadProject()">📂 Programm laden</button>
	   <input type="file" id="xmlInput" accept=".xml"  style="display:none;" />
      <button onclick="saveProject()">💾 Programm speichern</button>
      <button onclick="exportSVG()">⌺ Grafik speichern</button>
  <button onclick="loadSVG()">🖼️ Hintergrund laden</button> 
  <input type="file" id="svgInput" accept=".svg" style="display:none;" />
      <button onClick="clearBackground()">⎕ Hintergrund löschen</button>
     

</div>


  <!-- Toolbox -->
  <xml id="toolbox" style="display: none">
    <block type="stift_gehe"></block>
    <block type="stift_drehe"></block>
    <block type="stift_zustand"></block>
    <block type="stift_farbe"></block>
    <block type="stift_zufallsfarbe"></block>
    <block type="stift_breite"></block>
    <block type="custom_repeat"></block>
  </xml>

</body>
</html>
